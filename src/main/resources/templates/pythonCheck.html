<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Python Check</title>
</head>
<body>
<h1 id="training-status">학습중</h1>

<!-- Initially hidden, will be shown when training is complete -->
<div id="upload-section" style="display: none;">
  <h2>이미지 업로드</h2>
  <form action="/showTotal/uploadImage" method="post" enctype="multipart/form-data">
    <input type="file" name="image">
    <button type="submit">이미지 추론</button>
  </form>
</div>

<script>
  // Polling the server to check training status
  setInterval(function() {
    fetch('/showTotal/getTrainingStatus').then(response => response.text()).then(status => {
      document.getElementById('training-status').textContent = status;

      if (status === "학습 종료") {
        document.getElementById('upload-section').style.display = "block";
      }
    });
  }, 5000); // Poll every 5 seconds
</script>
</body>
</html>
